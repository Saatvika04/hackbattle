<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>LockedIn Settings</title>
  <link rel="stylesheet" href="options.css">
</head>
<body>
  <div class="container">
    <header class="header">
      <div class="logo">
        <div class="logo-icon">üéØ</div>
        <h1>LockedIn Settings</h1>
      </div>
      <button id="backToAppBtn" class="back-btn">
        üåê Back to App
      </button>
    </header>

    <div class="content">
      <!-- Email Reports Section -->
      <section class="settings-section">
        <h2>ÔøΩ Email Reports</h2>
        
        <div class="setting-item">
          <div class="setting-info">
            <h3>Weekly Email Reports</h3>
            <p>Receive a comprehensive focus report every Sunday with AI insights and recommendations</p>
          </div>
          <div class="setting-control">
            <label class="toggle">
              <input type="checkbox" id="weeklyReports">
              <span class="slider"></span>
            </label>
          </div>
        </div>

        <div class="setting-item" id="emailSettings">
          <div class="setting-info">
            <h3>Email Address</h3>
            <p>Where should we send your weekly reports?</p>
          </div>
          <div class="setting-control">
            <input type="email" id="emailAddress" placeholder="your@email.com" class="email-input">
            <button id="saveEmail" class="save-btn">Save</button>
          </div>
        </div>
      </section>


      <!-- AI & Tracking Section -->
      <section class="settings-section">
        <h2>ü§ñ AI & Tracking</h2>
        
        <div class="setting-item">
          <div class="setting-info">
            <h3>Focus Tracking</h3>
            <p>Enable automatic tracking of website relevance and focus patterns</p>
          </div>
          <div class="setting-control">
            <label class="toggle">
              <input type="checkbox" id="focusTracking" checked>
              <span class="slider"></span>
            </label>
          </div>
        </div>

        <div class="setting-item">
          <div class="setting-info">
            <h3>Behavioral Analysis</h3>
            <p>Track tab switches, breaks, and engagement patterns for better insights</p>
          </div>
          <div class="setting-control">
            <label class="toggle">
              <input type="checkbox" id="behaviorTracking" checked>
              <span class="slider"></span>
            </label>
          </div>
        </div>

        <div class="setting-item">
          <div class="setting-info">
            <h3>Track Inactive Time</h3>
            <p>Include time when you're away from the computer</p>
          </div>
          <div class="setting-control">
            <label class="toggle">
              <input type="checkbox" id="trackInactive">
              <span class="slider"></span>
            </label>
          </div>
        </div>

        <div class="setting-item">
          <div class="setting-info">
            <h3>Minimum Session Time</h3>
            <p>Ignore sessions shorter than this duration</p>
          </div>
          <div class="setting-control">
            <select id="minSessionTime" class="select-input">
              <option value="0">No minimum</option>
              <option value="5" selected>5 seconds</option>
              <option value="10">10 seconds</option>
              <option value="30">30 seconds</option>
              <option value="60">1 minute</option>
            </select>
          </div>
        </div>
        
        <div class="setting-item">
          <div class="setting-info">
            <h3>AI-Powered Relevance Checking</h3>
            <p>Use Google Gemini AI to intelligently determine if websites are relevant to your current task</p>
          </div>
          <div class="setting-control">
            <label class="toggle">
              <input type="checkbox" id="enableAI" checked>
              <span class="slider"></span>
            </label>
          </div>
        </div>

        <div class="setting-item" id="geminiApiSettings">
          <div class="setting-info">
            <h3>Gemini API Key</h3>
            <p>Enter your Google Gemini API key for AI-powered analysis. <a href="https://makersuite.google.com/app/apikey" target="_blank">Get your API key here</a></p>
          </div>
          <div class="setting-control">
            <input type="password" id="geminiApiKey" placeholder="Enter your Gemini API key" class="api-key-input">
            <button id="testApiBtn" class="test-btn">Test Connection</button>
          </div>
          <div id="apiStatus" class="api-status"></div>
        </div>

        <div class="setting-item">
          <div class="setting-info">
            <h3>Personalized AI Prompt</h3>
            <p>Customize how AI analyzes your browsing behavior with a personalized prompt</p>
          </div>
          <div class="setting-control">
            <textarea id="personalizedPrompt" placeholder="e.g., I'm a software developer working on React projects. Consider coding tutorials, documentation, and development tools as highly relevant..." class="prompt-textarea"></textarea>
          </div>
        </div>

        <div class="setting-item">
          <div class="setting-info">
            <h3>AI Fallback Mode</h3>
            <p>Use keyword matching when AI is unavailable or API key is not provided</p>
          </div>
          <div class="setting-control">
            <label class="toggle">
              <input type="checkbox" id="enableFallback" checked>
              <span class="slider"></span>
            </label>
          </div>
        </div>
      </section>

      <!-- Notifications Section -->
      <section class="settings-section">
        <h2>üîî Notifications</h2>
        
        <div class="setting-item">
          <div class="setting-info">
            <h3>Break Reminders</h3>
            <p>Get notified when it's time to take a break during focus sessions</p>
          </div>
          <div class="setting-control">
            <label class="toggle">
              <input type="checkbox" id="breakReminders" checked>
              <span class="slider"></span>
            </label>
          </div>
        </div>

        <div class="setting-item">
          <div class="setting-info">
            <h3>Distraction Alerts</h3>
            <p>Get warned when visiting blacklisted sites during focus sessions</p>
          </div>
          <div class="setting-control">
            <label class="toggle">
              <input type="checkbox" id="distractionAlerts" checked>
              <span class="slider"></span>
            </label>
          </div>
        </div>

        <div class="setting-item">
          <div class="setting-info">
            <h3>Session Complete</h3>
            <p>Celebrate when you complete a focus session successfully</p>
          </div>
          <div class="setting-control">
            <label class="toggle">
              <input type="checkbox" id="sessionComplete" checked>
              <span class="slider"></span>
            </label>
          </div>
        </div>
      </section>

      <!-- Data Management Section -->
      <section class="settings-section">
        <h2>üíæ Data Management</h2>
        
        <div class="data-actions">
          <button id="exportData" class="action-btn export">
            üìä Export All Data
          </button>
          <button id="clearData" class="action-btn danger">
            üóëÔ∏è Clear All Data
          </button>
          <button id="resetSettings" class="action-btn warning">
            ‚Ü©Ô∏è Reset Settings
          </button>
        </div>
      </section>

      <!-- Success/Error Messages -->
      <div id="messageContainer" class="message-container hidden">
        <div id="messageText"></div>
      </div>
    </div>
  </div>

  <script src="options.js"></script>
</body>
</html>